<% if @case.status == "pending" && session[:id] == @case.cases_users[0].user_id %>
	<%= render partial: "previewcase" %>

<% elsif @case.status == "pending" && session[:id] == @case.cases_users[1].user_id %>
	<%= render partial: "/evidences/evidencebody" %>


<% elsif @case.status == "pending" %>
	<p> Case is not available yet.  Come back soon! </p>

<% elsif @case.status == "active" %>

	 <%= render partial: "activecase" %>


  <div class="commentsBox">
    <% @comment = Comment.new %>
    <%= form_for [@case, @comment], :url => case_comments_path(@case, @comment), remote: true do |f| %>
        <%= f.label "Comment" %>
        <%= f.text_area :body, cols: 40, rows: 7 %>
        <%= f.submit "Submit"%>
    <% end %>

  <div id = "commentslist">
  <br>
<% @case.comments.each do |comment| %>
    <p><b><%= User.find(comment.user_id).user_name %></b>: <%= comment.body %></p>
    <%= button_to "Like", votes_path(direction: "up", comment_id: comment.id, user_id: session[:id]), remote: true, :form => { :id => "like", "data-type" => "json" } %>
    <%= button_to "Dislike", votes_path(direction: "down", comment_id: comment.id, user_id: session[:id]), remote: true, :form => { :id => "dislike", "data-type" => "json" } %>
    <p>Up-Votes: <span class="<%= comment.id %>up"><%= comment.votes.where(:direction => "up").count %></span>
    Down-Votes: <span class="<%= comment.id %>down"><%= comment.votes.where(:direction => "down").count %></span>
  </p>
  <% end %>
</div>
</div>


<% elsif @case.status == "closed"  %>

  <%= render partial: "closedcase" %>


<% else %>
  <p> Hmm... didn't plan this scenario.</p>

<% end %>

